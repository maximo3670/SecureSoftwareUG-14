<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="../Styles/main.css">
    <link rel="stylesheet" href="../Styles/login.css">
    <title>Gamer's Garden Home</title>
</head>
<body>
    <div id="head">
        <nav><!--Nav bar, may change how it is structured, may make it a more robust dropdown with just the translate widget remaining outside the dropdown-->
            <a href="index.html"><img src="../Images/Logo.png" id="Logo"></a>
            <div id="buttons">
                <div><a href="/">Home</a></div>
                <div><a href="/account">Account</a></div>
                <div><a href="/forums">Forums</a></div>
                <div><a href="/login">Login</a></div>
                <div><a href="/news">News</a></div>
            </div>
        </nav>
    </div>

    <div id="main">
        <div id="feedbackMessage" style="color: red;"></div>
        <form id="login">
            <label for="Username">Username</label>
            <input type="text" name="Username" value="" required><br>
            <label for="Password">Password</label>
            <input type="password" name="Password" value="" required><br>
            <p>Have no account? Click this link to <a href="/register">sign up.</a></p>
            <input type="submit" id="submit" value="Login">
        </form>
    </div>
    <!-- Hidden placeholder for OTP input -->
    <div id="otpPopup" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <label for="OTP">One-Time Password (2FA)</label>
            <input type="text" name="OTP" id="OTP"><br>
            <button onclick="submitOTP()">Submit</button>
        </div>
    </div>

    <script src="../scripts/loginHandler.js"></script>
    <script>
        // Function to display the OTP pop-up
        function displayOTP() {
            document.getElementById("otpPopup").style.display = "block";
        }

        // Function to close the OTP pop-up
        function closeModal() {
            document.getElementById("otpPopup").style.display = "none";
        }

        // Function to submit OTP entered by the user
        function submitOTP() {
            var otp = document.getElementById("OTP").value;
            // Pass the entered OTP to the login handler
            retryLogin({ OTP: otp });
        }
    </script>
</body>
</html>